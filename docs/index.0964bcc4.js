class t{constructor(t,e,n,i){this.x=t,this.y=e,this.xSpeed=n,this.ySpeed=i}}class e{constructor(t,e){this.p1=t,this.p2=e}}let n,i=1e3/60,a=0,r=0,o=60,s=0,l=0,c=0,u=0,f=!1,h=!1,d=!1,p=window,y=p.requestAnimationFrame||function(){let t,e,n=Date.now();return function(a){return t=Date.now(),e=Math.max(0,i-(t-n)),n=t+e,setTimeout((function(){a(t+e)}),e)}}(),m=p.cancelAnimationFrame||clearTimeout,x=function(...t){},w=x,S=x,M=x,g=x;function b(t){if(n=y(b),!(t<r+u)){for(a+=t-r,r=t,w(t,a),t>s+1e3&&(o=.9*l*1e3/(t-s)+(1-.9)*o,s=t,l=0),l++,c=0;a>=i;)if(S(i),a-=i,++c>=240){d=!0;break}M(a/i),g(o,d),d=!1}}class T{static getSimulationTimestep(){return i}static setSimulationTimestep(t){return i=t,this}static getFPS(){return o}static getMaxAllowedFPS(){return 1e3/u}static setMaxAllowedFPS(t){return void 0===t&&(t=1/0),0===t?this.stop():u=1e3/t,this}static resetFrameDelta(){var t=a;return a=0,t}static setBegin(t){return w=t||w,this}static setUpdate(t){return S=t||S,this}static setDraw(t){return M=t||M,this}static setEnd(t){return g=t||g,this}static start(){return h||(h=!0,n=y((function(t){M(1),f=!0,r=t,s=t,l=0,n=y(b)}))),this}static stop(){return f=!1,h=!1,m(n),this}static isRunning(){return f}}function v(t,e){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)}function A(){T.stop();let n=document.querySelector("canvas").getContext("2d"),i=document.body.clientWidth,a=window.innerHeight;n.canvas.width=i,n.canvas.height=a;let r=130,o=Math.min(Math.round(i*a/1900),1e3),s=i+r,l=a+r,c=i+260,u=a+260,f="#1e1e3c",h="#1c3f4a",d="#ffe699",p="#d8dfa6",y=[],m=.5;for(let e=0;e<o;e++)y[e]=new t(Math.random()*c,Math.random()*u,Math.random()*m-.25+m,Math.random()*m-.25);let x=[];for(let t=0;t<o;t++)for(let n=t;n<o;n++)x.push(new e(y[t],y[n]));let w=n.createLinearGradient(0,0,i,a);w.addColorStop(0,f),w.addColorStop(1,h),T.setMaxAllowedFPS(80).setUpdate((function(t){t/=20;for(let e of y)e.x+=t*e.xSpeed,e.y+=t*e.ySpeed,e.x<-130&&(e.x+=c),e.x>s&&(e.x-=c),e.y<-130&&(e.y+=u),e.y>l&&(e.y-=u)})).setDraw((function(){n.fillStyle=w,n.fillRect(-1,-1,i+2,a+2),n.fillStyle=d;for(let t of y)n.fillRect(t.x-1,t.y-1,3,3);n.strokeStyle=p;for(let t of x){let e=t.p1,i=t.p2,a=v(e,i);a<r&&(n.globalAlpha=1-a/r,n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(i.x,i.y),n.stroke())}n.globalAlpha=1})).start()}A(),$(window).on("resize",function(t,e,n){let i;return function(){let a=this,r=arguments,o=function(){i=null,n||t.apply(a,r)},s=n&&!i;clearTimeout(i),i=setTimeout(o,e),s&&t.apply(a,r)}}(A,200)).on("blur focus",(function(t){if($(this).data("prevType")!=t.type)switch(t.type){case"blur":T.stop();break;case"focus":T.start()}$(this).data("prevType",t.type)}));